<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="Adam Bekkar's personal portfolio showcasing projects, skills, and contact information." />
    <meta name="author" content="Adam Bekkar" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#42b983" />
    <meta name="keywords" content="Portfolio, Adam Bekkar, Computer Science, Projects, Skills, Contact" />
    
    <link rel="icon" href="assets/icons/favicon.png">
    <link rel="apple-touch-icon" href="assets/icons/favicon.png">
    <link rel="stylesheet" media="all" href="assets/css/style.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <title>Portfolio</title>
</head>
<body>
    <div id="initial-loading-overlay">
        <div class="spinner"></div>
    </div>

    <div id="app">
        <nav class="navbar" id="main-navbar">
            <a href="#" class="navbar-logo">Adam Bekkar</a>
            <div class="navbar-links">
                <a href="#projects">Projects</a>
                <a href="#skills">Skills</a>
                <a href="#contact">Contact</a>
                <button id="theme-toggle" aria-label="Toggle dark mode" class="theme-toggle-btn">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>

        <header class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">{{ name }}</h1>
                    <p class="hero-subtitle">{{ tagline }}</p>
                    <div class="hero-actions">
                        <div class="hero-buttons">
                            <a href="#projects" class="cta-btn">View Projects</a>
                            <a href="#contact" class="cta-btn outline">Contact Me</a>
                        </div>
                        <div class="hero-networks">
                            <a href="mailto:adam.bekkar@epfl.ch" class="network-link"><i class="fas fa-envelope"></i></a>
                            <a href="https://www.linkedin.com/in/adam-bekkar/" target="_blank" class="network-link"><i class="fab fa-linkedin"></i></a>
                            <a href="#" class="network-link"><i class="fab fa-github"></i></a>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="image-wrapper">
                        <img src="assets/img/me.png" alt="Adam Bekkar" class="profile-image" />
                        <div class="image-decorator"></div>
                    </div>
                </div>
            </div>
        </header>

        <section>
            <h2>Projects</h2>
            <div v-for="category in ['Personal', 'Academic']" :key="category" class="project-category">
                <h3>{{ category }}</h3>
                <div v-for="project in projects.filter(p => p.category === category)" :key="project.id" class="project-item">
                    <div class="project-description">
                        <h4>{{ project.title }}</h4>
                        <p>{{ project.description || 'Lorem ipsum dolor sit amet...' }}</p>
                        <div class="project-tags">
                            <span v-for="(tag, index) in project.tags" :key="index" class="project-tag">{{ tag }}</span>
                        </div>
                        <a href="#" class="more-details-btn">More details</a>
                    </div>
                    <div class="project-image">
                        <img src="assets/img/me.png" :alt="'Project image for ' + project.title" />
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>Skills</h2>

            <div class="skill-category">
                <h3>Programming Languages</h3>
                <ul class="skill-list">
                    <li v-for="skill in skills.programming" :key="skill">{{ skill }}</li>
                </ul>
            </div>

            <div class="skill-category">
                <h3>Tools</h3>
                <ul class="skill-list">
                    <li v-for="tool in skills.tools" :key="tool">{{ tool }}</li>
                </ul>
            </div>

            <div class="skill-category">
                <h3>Spoken Languages</h3>
                <ul class="skill-list">
                    <li v-for="lang in skills.spoken" :key="lang">{{ lang }}</li>
                </ul>
            </div>
        </section>
        
        <section>
            <h2>Contact</h2>
            <p>Email: <a :href="'mailto:' + contact.email">{{ contact.email }}</a></p>
            <p>LinkedIn: <a :href="contact.linkedin" target="_blank" rel="noopener">{{ contact.linkedin }}</a></p>
        </section>
    </div>
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const startTime = Date.now();
        const loader = document.getElementById('initial-loading-overlay');

        function hideLoader() {
            const elapsed = Date.now() - startTime;
            const minDuration = 200;
            
            if (elapsed >= minDuration) {
                loader.classList.add('hidden');
                setTimeout(() => loader.style.display = 'none', 300);
            } else {
                setTimeout(() => {
                    loader.classList.add('hidden');
                    setTimeout(() => loader.style.display = 'none', 300);
                }, minDuration - elapsed);
            }
        }

        function showLoader() {
            document.getElementById('app').style.visibility = 'visible';
        }

        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    isLoading: true,
                    name: "Adam Bekkar",
                    tagline: "Aspiring computer science student interested in research and problem-solving.",
                    projects: [
                        {
                            id: 1,
                            title: "Vestibulum",
                            description: "Project description.",
                            category: "Personal",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 2,
                            title: "ICMon",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 3,
                            title: "ChaCuN",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 4,
                            title: "Game of Lif",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 5,
                            title: "Boids Simulation",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 6,
                            title: "Pixel Construction",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 7,
                            title: "Small-scale MLmodels",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 8,
                            title: "Exploring Computer Graphic",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 9,
                            title: "Distributed Key-ValueStore",
                            description: "Project description.",
                            category: "Academic",
                            tags: ["tag1", "tag2", "tag3"]
                        },
                        {
                            id: 10,
                            title: "S4S-Connect",
                            description: "Project description.",
                            category: "Personal",
                            tags: ["tag1", "tag2", "tag3"]
                        }
                    ],
                    experiences: [
                        { id: 1, position: "Some experience.", place: "Some place.", period: "Some period.", details: "Some details." },
                        { id: 2, position: "Some experience.", place: "Some place.", period: "Some period.", details: "Some details." }
                    ],
                    skills: {
                        programming: ["Some Langage.", "Some Langage.", "Some Langage.", "Some Langage.", "Some Langage.", "Some Langage."],
                        tools: ["Some Tool.", "Some Tool.", "Some Tool."],
                        spoken: ["Some Langage.", "Some Langage.", "Some Langage."]
                    },
                    contact: {
                        email: "adam.bekkar@epfl.ch",
                        linkedin: "https://www.linkedin.com/in/adam-bekkar/",
                    }
                }
            },
            mounted() {
                window.addEventListener('load', () => {
                    hideLoader();
                    showLoader();

                    const themeToggleBtn = document.getElementById('theme-toggle');
                    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

                    function setTheme(theme) {
                        if (theme === 'dark') {
                            document.documentElement.setAttribute('data-theme', 'dark');
                            themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
                        } else {
                            document.documentElement.removeAttribute('data-theme');
                            themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
                        }
                        localStorage.setItem('theme', theme);
                    }

                    const savedTheme = localStorage.getItem('theme');
                    if (savedTheme) {
                        setTheme(savedTheme);
                    } else if (prefersDarkScheme.matches) {
                        setTheme('dark');
                    } else {
                        setTheme('light');
                    }

                    themeToggleBtn.addEventListener('click', () => {
                        const currentTheme = document.documentElement.getAttribute('data-theme');
                        setTheme(currentTheme === 'dark' ? 'light' : 'dark');
                    });
                });

                window.addEventListener('scroll', () => {
                    const scrollY = window.scrollY;

                    const navbar = document.getElementById('main-navbar');
                    if (scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                });

                window.addEventListener('scroll', () => {
                    const scrollY = window.scrollY;
                    const navbar = document.getElementById('main-navbar');
                    const heroImage = document.querySelector('.image-wrapper');
                    const heroTitle = document.querySelector('.hero-title');
                    const heroSubtitle = document.querySelector('.hero-subtitle');
                    const ctaBtn = document.querySelectorAll('.hero-buttons .cta-btn');
                    const outlineBtn = document.querySelector('.hero-buttons .cta-btn.outline');
                    const networks = document.querySelector('.hero-networks');

                    if (!heroImage || !heroTitle || !heroSubtitle || !ctaBtn || !outlineBtn || !networks) {
                        return;
                    }

                    if (scrollY > 50) navbar.classList.add('scrolled');
                    else navbar.classList.remove('scrolled');

                    const easedSlide = scrollY * 0.15;
                    
                    const imgFade = fade(scrollY, 100, 400);
                    heroImage.style.transform = `translateY(${easedSlide}px) scale(${Math.max(1 - scrollY * 0.0008, 0.75)})`;
                    heroImage.style.opacity = imgFade;

                    const titleFade = fade(scrollY, 120, 450);
                    heroTitle.style.opacity = titleFade;
                    heroTitle.style.transform = `translateY(${easedSlide}px)`;

                    const subtitleFade = fade(scrollY, 140, 475);
                    heroSubtitle.style.opacity = subtitleFade;
                    heroSubtitle.style.transform = `translateY(${easedSlide}px)`;

                    const btnFade = fade(scrollY, 160, 500);
                    [...ctaBtn, outlineBtn, networks].forEach(el => {
                        el.style.opacity = btnFade;
                        el.style.transform = `translateY(${easedSlide}px)`;
                    });

                    function fade(scroll, start, end) {
                        const factor = Math.min(Math.max((scroll - start) / (end - start), 0), 1);
                        return 1 - Math.pow(factor, 3);
                    }
                });
            }
        }).mount('#app')
    </script>
    </body>
</html>
